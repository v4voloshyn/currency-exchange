let rubValue,rubPrevious;const rates={RUB:{ID:"0000",NumCode:"0000",CharCode:"RUB",Nominal:100,Name:"Росийский рубль",Value:rubValue,Previous:rubPrevious}},inputField=document.querySelector("#input"),resultField=document.querySelector("#result"),selectField=document.querySelector("#select");let inputCurrencyName=document.querySelector("option").getAttribute("data-input-value");console.log(inputCurrencyName);const elementUSD=document.querySelector('[data-value="USD"]'),elementEUR=document.querySelector('[data-value="EUR"]'),elementGBP=document.querySelector('[data-value="GBP"]');async function getCurrencies(){const e=await fetch("https://www.cbr-xml-daily.ru/daily_json.js"),t=await e.json(),a=await t,l=a.Valute.UAH.Value/a.Valute.UAH.Nominal,u=a.Valute.UAH.Previous/a.Valute.UAH.Nominal;rates.RUB.Value=l,rates.RUB.Previous=u,rates.UAH=a.Valute.UAH,rates.USD=a.Valute.USD,rates.EUR=a.Valute.EUR,rates.GBP=a.Valute.GBP,rates.TRY=a.Valute.TRY,console.log(rates.RUB),console.log(rates.UAH),console.log(rates.USD),elementUSD.textContent=(rates.USD.Value/rates.UAH.Value*rates.UAH.Nominal).toFixed(2),elementGBP.textContent=(rates.GBP.Value/rates.UAH.Value*rates.UAH.Nominal).toFixed(2),elementEUR.textContent=(rates.EUR.Value/rates.UAH.Value*rates.UAH.Nominal).toFixed(2),rates.USD.Value>rates.USD.Previous?elementUSD.classList.add("top"):elementUSD.classList.add("bottom"),rates.EUR.Value>rates.EUR.Previous?elementEUR.classList.add("top"):elementEUR.classList.add("bottom"),rates.GBP.Value>rates.GBP.Previous?elementGBP.classList.add("top"):elementGBP.classList.add("bottom")}function convertValue(){resultField.value=(parseFloat(inputField.value)*rates[inputCurrencyName].Value/rates[inputCurrencyName].Nominal/(rates[select.value].Value/rates[select.value].Nominal)).toFixed(4)}getCurrencies(),inputField.oninput=convertValue,selectField.oninput=convertValue;